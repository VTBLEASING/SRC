create table DM.DM_RPL
(
  deal_id                        NUMBER,
  id_dfk                         NUMBER,
  dfk                            NUMBER,
  dealtype_id                    NUMBER,
  ressyst_id                     NUMBER,
  ressyst_name                   VARCHAR2(100),
  recordtype_id                  NUMBER,
  date_correnforce               DATE,
  oneday_corr                    NUMBER,
  corr_status                    CHAR(1),
  slx_code                       VARCHAR2(50),
  client_name                    NUMBER,
  portfolio_nonuni_id            VARCHAR2(37),
  portfolio_name                 NUMBER,
  clientuni_id                   NUMBER,
  clientuni_name                 NUMBER,
  clientgroup_id                 NUMBER,
  clientgroup_name               NUMBER,
  portfoliouni_id                NUMBER,
  portfoliouni_name              NUMBER,
  client_type                    VARCHAR2(11),
  intportfolio_deal              NUMBER,
  subdivisionuni_id              NUMBER,
  subdivisionuni_name            NUMBER,
  subdivision                    NUMBER,
  salesman_id                    NUMBER,
  salesman_name                  NUMBER,
  busncateg_id                   NUMBER,
  busncateg                      NUMBER,
  product_nonuni                 NUMBER,
  productuni_id                  NUMBER,
  product_name                   NUMBER,
  industry_id                    NUMBER,
  industry_name                  NUMBER,
  date_dealbegin                 DATE,
  date_1tranche                  DATE,
  date_2tranche                  DATE,
  currency_titlenom              VARCHAR2(10),
  currency_2titlenom             VARCHAR2(10),
  fincomp_currency               VARCHAR2(10),
  dealcateg_id                   NUMBER,
  dealcateguni_id                NUMBER,
  dealcateg                      NUMBER,
  optiontype_id                  NUMBER,
  optiontypeuni_id               NUMBER,
  option_type                    NUMBER,
  securities_id                  NUMBER,
  deal_exchrate                  NUMBER,
  precmet_gram                   NUMBER,
  precmet_gramattr               NUMBER,
  nondel_forwardattr             NUMBER,
  deal_intrate                   NUMBER,
  deal_amtcurr1                  NUMBER,
  deal_amtcurr2                  NUMBER,
  exchrate_2                     NUMBER,
  deal_amtcurr1leg2              NUMBER,
  deal_amtcurr2leg2              NUMBER,
  date_dealaccomp                DATE,
  deal_status                    NUMBER,
  date_change                    DATE,
  date_correction                DATE,
  date_recordchng                DATE,
  date_recvalidfrom              DATE,
  date_recvalidupto              DATE,
  flag_toreport                  NUMBER,
  reporting_year                 NUMBER,
  flag_tocorrect                 NUMBER,
  flag_recchangaccnt             NUMBER,
  date_77                        DATE,
  slxuni_id                      NUMBER,
  salescredit_effdate            NUMBER,
  salescredit_corrdate           DATE,
  salescredit_curr               NUMBER,
  salescreditstrt_effdate        DATE,
  salescreditstrt_corrdate       DATE,
  salescreditstrt_curr           NUMBER,
  perc_earncost_effdate          NUMBER,
  perc_earncost_corrdate         NUMBER,
  perc_earncost_curr             CHAR(3),
  tran_earncost_effdate          NUMBER,
  tran_earncost_corrdate         NUMBER,
  tran_earncurr                  CHAR(3),
  commissions_effdate            NUMBER,
  commissions_corrdate           NUMBER,
  commissions_curr               CHAR(3),
  commissions_exp_effdate        NUMBER,
  commissions_exp_corrdate       NUMBER,
  commissions_exp_curr           CHAR(3),
  reserves_cva_effdate           NUMBER,
  reserves_cva_corrdate          NUMBER,
  reserves_curr                  CHAR(3),
  real_reval_effdate             NUMBER,
  real_reval_corrdate            NUMBER,
  real_reval_curr                CHAR(3),
  nonreal_reval_curr_effdate     NUMBER,
  nonreal_reval_curr_corrdate    NUMBER,
  nonreal_reval_curr_curr        NUMBER,
  nonreal_reval_past_effdate     NUMBER,
  nonreal_reval_past_corrdate    NUMBER,
  nonreal_reval_past_curr        NUMBER,
  oci_deval_effdate              NUMBER,
  oci_deval_corrdate             NUMBER,
  oci_deval_curr                 NUMBER,
  pl_deval_effdate               NUMBER,
  pl_deval_corrdate              NUMBER,
  pl_deval_curr                  NUMBER,
  allocation_effdate             NUMBER,
  allocation_corrdate            NUMBER,
  allocation_curr                CHAR(3),
  funding_npl_effdate            NUMBER,
  funding_npl_corrdate           NUMBER,
  funding_npl_curr               VARCHAR2(10),
  bal_residval_effdate           NUMBER,
  bal_residval_corrdate          NUMBER,
  averbal_residval_effdate       NUMBER,
  averbal_residval_corrdate      NUMBER,
  bal_residval_curr              VARCHAR2(10 CHAR),
  overd_residval_effdate         NUMBER,
  overd_residval_corrdate        NUMBER,
  overd_residval_curr            VARCHAR2(10 CHAR),
  offbal_item_effdate            NUMBER,
  offbal_item_corrdate           NUMBER,
  averoffbal_residval_effdate    NUMBER,
  averoffbal_residval_corrdate   NUMBER,
  offbal_item_curr               NUMBER,
  perc_bal_residval_effdate      NUMBER,
  perc_bal_residval_corrdate     NUMBER,
  perc_bal_residval_curr         VARCHAR2(10),
  perc_aver_acc_effdate          NUMBER,
  perc_aver_acc_corrdate         NUMBER,
  perc_aver_acc_curr             VARCHAR2(10),
  comm_bal_residval_effdate      NUMBER,
  comm_bal_residval_corrdate     NUMBER,
  comm_bal_residval_curr         VARCHAR2(10),
  reserv_bal_residval_effdate    NUMBER,
  reserv_bal_residval_corrdate   NUMBER,
  reserv_bal_residval_curr       VARCHAR2(10 CHAR),
  actbal_nonreal_resval_effdate  NUMBER,
  actbal_nonreal_resval_corrdate NUMBER,
  actbal_nonreal_resval_curr     VARCHAR2(10),
  pbal_nonreal_resval_effdate    NUMBER,
  psbal_nonreal_resval_corrdate  NUMBER,
  psbal_nonreal_resval_curr      VARCHAR2(10),
  opex_effdate                   NUMBER,
  opex_corrdate                  NUMBER,
  opex_curr                      CHAR(3),
  facility_num                   VARCHAR2(513),
  date_facil_agrmnt              DATE,
  tenor                          NUMBER,
  wal                            NUMBER,
  wal0                           NUMBER,
  effective_nim                  NUMBER,
  running_nim                    NUMBER,
  base_rate                      CHAR(3),
  total_disbursements_ltd        NUMBER,
  total_repaid_ltd               NUMBER,
  interrate_margin_floattype     NUMBER,
  funding_rate_floattype         NUMBER,
  npl_status                     NUMBER,
  rating_internal                NUMBER,
  rating_external                NUMBER,
  rating_expert                  NUMBER,
  pd                             NUMBER,
  lgd                            NUMBER,
  el                             NUMBER,
  ead                            NUMBER,
  rwa_weight                     NUMBER,
  h1_weight                      NUMBER,
  ifrs_basel_rwa                 NUMBER,
  ras_rwa                        NUMBER,
  sales_director                 NUMBER,
  trading_director               NUMBER,
  structuring_director           NUMBER,
  coverage_director              NUMBER,
  committed_mark                 NUMBER,
  number_of_restruct             NUMBER,
  restruct_rolled_refin          NUMBER,
  date_restruct_rolled_refin     NUMBER,
  initial_volume                 NUMBER,
  funding_rate                   NUMBER,
  tp_charge                      NUMBER,
  date_tp_charge                 NUMBER,
  risk_cost                      NUMBER,
  commitment_volume              NUMBER,
  limit_mark                     NUMBER,
  limit_ccy                      NUMBER,
  collateral_type                NUMBER,
  collateral_amount              NUMBER,
  collateral_quality             NUMBER,
  col_amt_provis_ras             NUMBER,
  trading_result                 NUMBER,
  llp                            NUMBER,
  illp_pllp_classif              NUMBER,
  accrual_basis_mtm              NUMBER,
  bank_agent                     NUMBER,
  id_fin_purp                    NUMBER,
  fin_purp                       NUMBER,
  cession                        NUMBER,
  subordinated_loan              NUMBER,
  syndicated_loan                NUMBER,
  normal_problem_type            NUMBER,
  loan_type                      NUMBER,
  repmnt_freq_basic_debt         NUMBER,
  repmnt_freq_perc               NUMBER,
  availability_period            NUMBER,
  comp_spread_early_repmnt       NUMBER,
  comp_spread_fix_rate           NUMBER,
  comments                       NUMBER,
  account_number                 NUMBER,
  total_nil_ovd                  NUMBER,
  contract_key                   NUMBER,
  contract_app_key               NUMBER,
  snapshot_dt                    DATE,
  insert_dttm                    DATE,
  process_key                    NUMBER,
  rate_start_dt                  DATE,
  loans_nam                      VARCHAR2(1000),
  allocation_category            VARCHAR2(10)
)
tablespace DM_DATA
  pctfree 10
  initrans 1
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  )
nologging;
create index DWH.I#DM_RPL#CONTRACT_APP_KEY on DM.DM_RPL (CONTRACT_APP_KEY)
  tablespace DWH_DATA
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  );
create index DM.I#DM_RPL#SNAPSHOT_DT on DM.DM_RPL (SNAPSHOT_DT)
  tablespace DM_DATA
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  );

